# PALVANNAN-
backend/config/db.jsimport mongoose from "mongoose";const connectDB = async () => {try {await mongoose.connect(process.env.MONGO_URI);console.log("  MongoDB Connected");} catch (error) {console.error("  Error:", error);process.exit(1);}};export default connectDB;backend/models/Product.jsimport mongoose from "mongoose";const productSchema = new mongoose.Schema({name: { type: String, required: true },description: String,price: { type: Number, required: true },category: String,imageUrl: String,createdAt: { type: Date, default: Date.now },});export default mongoose.model("Product", productSchema);3. backend/controllers/productController.jsimport Product from "../models/Product.js";// Get All Productsexport const getProducts = async (req, res) => {try {const products = await Product.find();res.json(products);} catch (err) {res.status(500).json({ message: err.message });}};// Create Productexport const createProduct = async (req, res) => {try {const { name, description, price, category, imageUrl } = req.body;const newProduct = new Product({ name, description, price, category, imageUrl });await newProduct.save();res.status(201).json(newProduct);} catch (err) {res.status(400).json({ message: err.message });}};// Update Productexport const updateProduct = async (req, res) => {try {const updated = await Product.findByIdAndUpdate(req.params.id, req.body, { new: true });res.json(updated);} catch (err) {res.status(400).json({ message: err.message });}};// Delete Productexport const deleteProduct = async (req, res) => {try {await Product.findByIdAndDelete(req.params.id);res.json({ message: "Product deleted successfully" });} catch (err) {res.status(500).json({ message: err.message });}};backend/routes/productRoutes.jsimport express from "express";import { getProducts, createProduct, updateProduct, deleteProduct } from "../controllers/productController.js";const router = express.Router();router.get("/", getProducts);router.post("/", createProduct);router.put("/:id", updateProduct);router.delete("/:id", deleteProduct);export default router;5. backend/server.jsimport express from "express";import dotenv from "dotenv";import cors from "cors";import connectDB from "./config/db.js";import productRoutes from "./routes/productRoutes.js";dotenv.config();connectDB();const app = express();app.use(cors());app.use(express.json());app.use("/api/products", productRoutes);app.get("/", (req, res) => {res.send("Product Catalog API Running ");});const PORT = process.env.PORT || 5000;app.listen(PORT, () => console.log(`  Server running on port ${PORT}`));frontend/src/services/api.jsimport axios from "axios";const API = axios.create({ baseURL: "https://your-backendurl.onrender.com/api" });export const getProducts = () => API.get("/products");export const addProduct = (product) => API.post("/products", product);export const updateProduct = (id, product) => API.put(`/products/${id}`, product);export const deleteProduct = (id) => API.delete(`/products/${id}`);2. frontend/src/components/ProductCard.jsximport React from "react";const ProductCard = ({ product, onEdit, onDelete }) => (<div className="bg-white shadow-md rounded-lg p-4"><img src={product.imageUrl} alt={product.name} className="w-full h-48 object-cover rounded-md" /><h2 className="text-lg font-bold mt-2">{product.name}</h2><p className="text-gray-600">{product.description}</p><p className="text-green-600 font-semibold mt-1">${product.price}</p><div className="flex gap-2 mt-3"><button onClick={() => onEdit(product)} className="bg-blue-500 textwhite px-3 py-1 rounded">Edit</button><button onClick={() => onDelete(product._id)} className="bg-red-500 text-white px-3 py-1 rounded">Delete</button></div></div>);export default ProductCard;. frontend/src/components/ProductForm.jsximport React, { useState, useEffect } from "react";const ProductForm = ({ onSubmit, currentProduct }) => {const [product, setProduct] = useState({ name: "", description: "", price: "", category: "", imageUrl: "" });useEffect(() => {if (currentProduct) setProduct(currentProduct);}, [currentProduct]);const handleChange = (e) => setProduct({ ...product, [e.target.name]: e.target.value });const handleSubmit = (e) => {e.preventDefault();onSubmit(product);setProduct({ name: "", description: "", price: "", category: "", imageUrl: "" });};return (<form onSubmit={handleSubmit} className="bg-gray-100 p-4 rounded shadow-md space-y-3"><input type="text" name="name" value={product.name} onChange={handleChange} placeholder="Product Name" className="w-full p-2 border rounded" required /><input type="text" name="description" value={product.description} onChange={handleChange} placeholder="Description" className="w-full p-2 border rounded" /><input type="number" name="price" value={product.price} onChange={handleChange} placeholder="Price" className="w-full p-2 border rounded" required /><input type="text" name="category" value={product.category} onChange={handleChange} placeholder="Category" className="w-full p-2 border rounded" /><input type="text" name="imageUrl" value={product.imageUrl} onChange={handleChange} placeholder="Image URL" className="w-full p-2 border rounded" /><button type="submit" className="bg-green-600 text-white px-4 py-2 rounded">{currentProduct ? "Update Product" : "Add Product"}</button></form>);};export default ProductForm;4. frontend/src/pages/Home.jsximport React, { useEffect, useState } from "react";import { getProducts } from "../services/api";import ProductCard from "../components/ProductCard";const Home = () => {const [products, setProducts] = useState([]);useEffect(() => {getProducts().then((res) => setProducts(res.data));}, []);return (<div className="p-6"></h1><h1 className="text-3xl font-bold mb-4">Product Catalog <div className="grid grid-cols-1 md:grid-cols-3 gap-4">{products.map((p) => (<ProductCard key={p._id} product={p} />))}</div></div>);};export default Home;frontend/src/pages/AdminPanel.jsximport React, { useEffect, useState } from "react";import { getProducts, addProduct, updateProduct, deleteProduct } from "../services/api";import ProductCard from "../components/ProductCard";import ProductForm from "../components/ProductForm";const AdminPanel = () => {const [products, setProducts] = useState([]);const [editProduct, setEditProduct] = useState(null);const fetchProducts = () => getProducts().then((res) => setProducts(res.data));useEffect(() => {fetchProducts();}, []);const handleSubmit = async (product) => {if (editProduct) {await updateProduct(editProduct._id, product);} else {await addProduct(product);}setEditProduct(null);fetchProducts();};const handleDelete = async (id) => {await deleteProduct(id);fetchProducts();};return (<div className="p-6"><h1 className="text-3xl font-bold mb-4">Admin Panel </h1><ProductForm onSubmit={handleSubmit} currentProduct={editProduct} /><div className="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">{products.map((p) => (<ProductCard key={p._id} product={p} onEdit={setEditProduct} onDelete={handleDelete} />))}</div></div>);};export default AdminPanel;6. frontend/src/App.jsimport React from "react";import { BrowserRouter as Router, Routes, Route, Link } from "react-routerdom";import Home from "./pages/Home";import AdminPanel from "./pages/AdminPanel";export default function App() {return (<Router><nav className="bg-gray-800 text-white p-4 flex justify-between">Product Catalog</Link><Link to="/" className="font-bold text-xl">  <div className="space-x-4"><Link to="/">Home</Link><Link to="/admin">Admin</Link></div></nav><Routes><Route path="/" element={<Home />} /><Route path="/admin" element={<AdminPanel />} /></Routes></Router>);}
